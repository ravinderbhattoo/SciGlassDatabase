<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples · SciGlassDatabase.jl</title><meta name="title" content="Examples · SciGlassDatabase.jl"/><meta property="og:title" content="Examples · SciGlassDatabase.jl"/><meta property="twitter:title" content="Examples · SciGlassDatabase.jl"/><meta name="description" content="Documentation for SciGlassDatabase.jl."/><meta property="og:description" content="Documentation for SciGlassDatabase.jl."/><meta property="twitter:description" content="Documentation for SciGlassDatabase.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/indigo.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="sciglassdatabase.html"><img src="assets/logo.png" alt="SciGlassDatabase.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="sciglassdatabase.html">SciGlassDatabase.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="sciglassdatabase.html">Home</a></li><li><a class="tocitem" href="toc.html">Table of contents</a></li><li class="is-active"><a class="tocitem" href="examples.html">Examples</a><ul class="internal"><li><a class="tocitem" href="#Example-1:-Exploring-Glass-Properties-with-SciGlassDatabase-in-Julia"><span>Example 1: Exploring Glass Properties with SciGlassDatabase in Julia</span></a></li><li><a class="tocitem" href="#Example-2:-Predicting-Glass-Density-using-Machine-Learning-with-Flux-package"><span>Example 2: Predicting Glass Density using Machine Learning with Flux package</span></a></li><li><a class="tocitem" href="#**Further-Exploration:**"><span><strong>Further Exploration:</strong></span></a></li></ul></li><li><a class="tocitem" href="index.html">Index</a></li><li><a class="tocitem" href="autodocs.html">Autodocs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="examples.html">Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="examples.html">Examples</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ravinderbhattoo/SciGlassDatabase" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ravinderbhattoo/SciGlassDatabase/blob/main/docs/src/examples.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h1><h2 id="Example-1:-Exploring-Glass-Properties-with-SciGlassDatabase-in-Julia"><a class="docs-heading-anchor" href="#Example-1:-Exploring-Glass-Properties-with-SciGlassDatabase-in-Julia">Example 1: Exploring Glass Properties with SciGlassDatabase in Julia</a><a id="Example-1:-Exploring-Glass-Properties-with-SciGlassDatabase-in-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Example-1:-Exploring-Glass-Properties-with-SciGlassDatabase-in-Julia" title="Permalink"></a></h2><p>This example will guide you through using the <code>SciGlassDatabase</code> package in Julia to retrieve, visualize, and explore property data for glass compositions. <strong>Prerequisites:</strong></p><ul><li><strong>Julia Installation:</strong> Ensure you have Julia installed on your system. You can download it from the official Julia website (<a href="https://julialang.org/downloads/">https://julialang.org/downloads/</a>).</li><li><strong>Pkg Package:</strong> Julia&#39;s built-in package manager (<code>Pkg</code>) should be available.</li><li><strong>SciGlassDatabase Package:</strong> You need to install the <code>SciGlassDatabase</code> package. Open your Julia REPL (the interactive command-line interface) and run the following commands:</li></ul><pre><code class="language-julia hljs">using Pkg
Pkg.add(url=&quot;https://github.com/ravinderbhattoo/SciGlassDatabase.git&quot;)

# You might also need a plotting package for visualization and other packages
Pkg.add(&quot;Plots&quot;)</code></pre><p><strong>Step 1: Setting up the Environment and Loading the Package</strong></p><ol><li><strong>Load the SciGlassDatabase Package:</strong> In your Julia REPL or script, load the <code>SciGlassDatabase</code> package:</li></ol><pre><code class="language-julia hljs">using SciGlassDatabase</code></pre><ol><li><strong>Load Essential Data:</strong> Some packages might require an initial setup step. The <code>SciGlassDatabase</code> package in your example uses <code>load_essentials()</code> for loading data tables from SciGlass dataset:</li></ol><pre><code class="language-julia hljs">load_essentials()</code></pre><p>Run this command to ensure the necessary data structures or connections are initialized. For first time, it will download artifacts from github and require internet connection. Note that not all tables are loaded which can be done using <a href="autodocs.html#SciGlassDatabase.load_all_tables!-Tuple{Any}"><code>load_all_tables!</code></a>.</p><p><strong>Step 2: Specifying the Glass Composition System</strong></p><ol><li>Define the components of the glass system you are interested in. In this example, it&#39;s a ternary system of Silicon Dioxide (SiO2), Sodium Oxide (Na2O), and Magnesium Oxide (MgO):</li></ol><pre><code class="language-julia hljs">comps = &quot;SiO2-Na2O-MgO&quot;</code></pre><p>The components are specified as a hyphen-separated string.</p><p><strong>Step 3: Retrieving Composition Data for a Specific Property</strong></p><ol><li>Use the <a href="autodocs.html#SciGlassDatabase.get_compositions-Tuple{}"><code>get_compositions</code></a> function to retrieve data. Here, we are fetching data for the &quot;Density&quot; property for the specified <code>comps</code> glass:</li></ol><pre><code class="language-julia hljs">df = get_compositions(;property=[&quot;Density&quot;], composition=comps)</code></pre><ul><li><code>property=[&quot;Density&quot;]</code> tells the function to retrieve data related to the &quot;Density&quot; property. You can provide a list of properties if you want to retrieve data for multiple properties (e.g., <code>property=[&quot;Density&quot;, &quot;Viscosity&quot;]</code>).</li><li><code>composition=comps</code> specifies the glass system we are interested in.</li><li>The result is stored in a variable named <code>df</code>. This variable will hold a <code>DataFrame</code> object, which is a tabular data structure commonly used in Julia for data manipulation and analysis.</li></ul><p><strong>Step 4: Displaying the Retrieved Data as a Table</strong></p><ol><li>To get a quick look at the retrieved data, you can use the <code>show_table()</code> function:</li></ol><pre><code class="language-julia hljs">show_table(df)</code></pre><p>This will display the contents of the <code>df</code> DataFrame in a readable table format and utilizes <strong>Dash</strong> to show the table (follow the link shown on terminal), showing the compositions (as mol percentages of each component) and their corresponding Density values.</p><pre><code class="language-julia hljs">show_table(df; with_plot=true)</code></pre><p>If keyword argument &quot;with_plot&quot; is true, it will show table with plot capabilities.</p><p><img src="assets/table.png" alt="table"/></p><p><strong>Step 5: Creating a Scatter Plot of Property vs. Composition</strong></p><ol><li>The <a href="autodocs.html#SciGlassDatabase.scatterplot_table-Tuple{Any, Any, Any}"><code>scatterplot_table</code></a> function allows you to visualize the relationship between a specific component&#39;s proportion and a property. Here, we plot the mole percentage of SiO2 against the Density:</li></ol><pre><code class="language-julia hljs">scatterplot_table(df, :SIO2, :DENSITY)</code></pre><ul><li><code>:SIO2</code> and <code>:DENSITY</code> are symbols representing the column names in your <code>df</code> DataFrame. Make sure these column names exist in your retrieved data. This command will generate a scatter plot where the x-axis represents the amount of SiO2 and the y-axis represents the Density. You might need to have a plotting backend loaded (like <code>Plots</code> with <code>pyplot()</code> or <code>gr()</code>) for the plot to be displayed.</li></ul><p><img src="assets/scatter.png" alt="scatter"/></p><p><strong>Step 6: Generating a Ternary Plot for Three-Component Glasses</strong></p><ol><li>For visualizing properties in a three-component system, you can use the <a href="autodocs.html#SciGlassDatabase.scatterTernary-Tuple{Any}"><code>scatterTernary</code></a> function:</li></ol><pre><code class="language-julia hljs">scatterTernary(comps; property=&quot;DENSITY&quot;)</code></pre><ul><li><code>comps</code> again specifies the three components of the system.</li><li><code>property=&quot;DENSITY&quot;</code> indicates that the Density values should be visualized on the ternary diagram. The plot will show points representing different compositions within the SiO2-Na2O-MgO system, and the color of these points will correspond to the Density values.</li></ul><p><img src="assets/ternary.png" alt="ternary"/></p><p><strong>Step 7: Retrieving Data with Metadata</strong></p><ol><li>To get additional information (metadata) associated with the data points, you can use the <code>with_metadata=true</code> keyword argument in the <a href="autodocs.html#SciGlassDatabase.get_compositions-Tuple{}"><code>get_compositions</code></a> function:</li></ol><pre><code class="language-julia hljs">df = get_compositions(;property=[&quot;Density&quot;], composition=comps, with_metadata=true)</code></pre><p>The <code>df</code> DataFrame will now include extra columns containing metadata, such as the source of the data (e.g., publication details), experimental conditions, or other relevant information available in the SciGlass database. You can then explore this metadata using standard DataFrame operations.</p><h2 id="Example-2:-Predicting-Glass-Density-using-Machine-Learning-with-Flux-package"><a class="docs-heading-anchor" href="#Example-2:-Predicting-Glass-Density-using-Machine-Learning-with-Flux-package">Example 2: Predicting Glass Density using Machine Learning with Flux package</a><a id="Example-2:-Predicting-Glass-Density-using-Machine-Learning-with-Flux-package-1"></a><a class="docs-heading-anchor-permalink" href="#Example-2:-Predicting-Glass-Density-using-Machine-Learning-with-Flux-package" title="Permalink"></a></h2><p>This example demonstrates how to use the data retrieved from the <code>SciGlassDatabase</code> to train a simple neural network using the <code>Flux.jl</code> machine learning library in Julia. We will predict the density of SiO2-Na2O-MgO glasses based on their composition.</p><p><strong>Prerequisites:</strong></p><ul><li><strong>Completion of Example 1:</strong> Ensure you have successfully installed and loaded the <code>SciGlassDatabase</code> package and its dependencies as outlined in Example 1.</li><li><strong>Flux.jl:</strong> Install the <code>Flux.jl</code> package for machine learning:</li></ul><pre><code class="language-julia hljs">using Pkg
Pkg.add(&quot;Flux&quot;)</code></pre><ul><li><strong>Plots.jl:</strong> Ensure you have a plotting backend installed (as mentioned in Example 1) as we will visualize the loss during training. If you haven&#39;t already:</li></ul><pre><code class="language-julia hljs">using Pkg
Pkg.add(&quot;Plots&quot;)</code></pre><ul><li><strong>Statistics.jl:</strong> This is a base Julia package but we explicitly load it for the <code>mean</code> and <code>std</code> functions.</li></ul><p><strong>Step 1: Load Necessary Packages and Retrieve Data</strong></p><ol><li>Load the required packages:</li></ol><pre><code class="language-julia hljs">using SciGlassDatabase
using Flux
using Flux: train!
using Plots
using Statistics</code></pre><ol><li>Load essential data from <code>SciGlassDatabase</code>:</li></ol><pre><code class="language-julia hljs">load_essentials()</code></pre><ol><li>Specify the glass composition system and retrieve the density data:</li></ol><pre><code class="language-julia hljs">comps = &quot;SiO2-Na2O-MgO&quot;
df = get_compositions(;property=[&quot;Density&quot;], composition=comps)</code></pre><p><strong>Step 2: Prepare Data for Machine Learning</strong></p><ol><li>Extract the density values (our target variable, <code>y</code>) and the composition features (our input features, <code>x</code>). We convert them to <code>Float32</code> for compatibility with Flux and reshape them into column vectors:</li></ol><pre><code class="language-julia hljs">y = Float32.(df.DENSITY&#39;)
x = Float32.(hcat(df.SIO2, df.NA2O, df.MGO)&#39;)</code></pre><ul><li><code>df.DENSITY&#39;</code> transposes the &#39;DENSITY&#39; column into a row vector.</li><li><code>hcat(df.SIO2, df.NA2O, df.MGO)</code> horizontally concatenates the &#39;SIO2&#39;, &#39;NA2O&#39;, and &#39;MGO&#39; columns into a matrix where each row represents a glass composition. The transpose <code>&#39;</code> then makes each composition a column vector, which is the expected input format for our model.</li></ul><ol><li><strong>Normalize the data:</strong> Normalizing the input features and the target variable can often improve the training process and the model&#39;s performance:</li></ol><pre><code class="language-julia hljs">normalize(x) = (x .- mean(x)) ./ std(x)

x = normalize(x)
y = normalize(y)</code></pre><p>The <code>normalize</code> function subtracts the mean and divides by the standard deviation for each feature and the target variable.</p><p><strong>Step 3: Define the Neural Network Model</strong></p><ol><li>We define a simple feedforward neural network using <code>Flux.Chain</code>:</li></ol><pre><code class="language-julia hljs">model = Chain(
    Dense(3, 10),  # Input layer with 3 features (SiO2, Na2O, MgO) to 10 neurons
    Dense(10, 10), # Hidden layer with 10 neurons to 10 neurons
    Dense(10, 1)   # Output layer with 10 neurons to 1 output (predicted density)
)</code></pre><p>This model has three dense layers: an input layer, one hidden layer, and an output layer.</p><ol><li>Get the parameters of the model using <code>Flux.params()</code>:</li></ol><pre><code class="language-julia hljs">ps = Flux.params(model)</code></pre><p><strong>Step 4: Define the Loss Function</strong></p><ol><li>We use the Mean Squared Error (MSE) as our loss function, which measures the average squared difference between the model&#39;s predictions and the actual density values:</li></ol><pre><code class="language-julia hljs">loss(model, x, y) = Flux.Losses.mse(model(x), y)</code></pre><p><strong>Step 5: Choose an Optimizer</strong></p><ol><li>We select the Adam optimizer, a common and effective optimization algorithm:</li></ol><pre><code class="language-julia hljs">opt = Adam()
opt_state = Flux.setup(opt, model)</code></pre><p><code>Flux.setup(opt, model)</code> initializes the optimizer&#39;s state based on the model&#39;s parameters.</p><p><strong>Step 6: Train the Model</strong></p><ol><li>Compute the initial loss before training:</li></ol><pre><code class="language-julia hljs">loss_0 = loss(model, x, y)
println(&quot;Initial loss: $loss_0&quot;)</code></pre><ol><li>Prepare the training data as an array of tuples <code>(x, y)</code>:</li></ol><pre><code class="language-julia hljs">data = [(x, y)]</code></pre><ol><li>Set the number of training epochs:</li></ol><pre><code class="language-julia hljs">n_epochs = 1000</code></pre><ol><li>Initialize an array to store the loss values at each epoch for visualization:</li></ol><pre><code class="language-julia hljs">loss_values = zeros(n_epochs)</code></pre><ol><li>Train the model for the specified number of epochs:</li></ol><pre><code class="language-julia hljs">for epoch in 1:n_epochs
    train!(loss, model, data, opt_state)
    loss_values[epoch] = loss(model, x, y)
    if epoch % 10 == 0
        println(&quot;Epoch: $epoch, loss: &quot;, loss_values[epoch])
    end
end</code></pre><ul><li>The <code>train!</code> function performs one optimization step using the provided loss function, model parameters, data, and optimizer state.</li><li>We record the loss at each epoch and print the loss every 10 epochs to monitor the training progress.</li></ul><p><strong>Step 7: Visualize the Training Loss</strong></p><ol><li>Plot the loss values over the epochs to see how the model is learning:</li></ol><pre><code class="language-julia hljs">Plots.plot(loss_values, label=nothing)
xlabel!(&quot;Epochs&quot;)
ylabel!(&quot;Loss&quot;)</code></pre><p>This plot should show a decreasing trend in the loss as the model learns to predict the density more accurately.</p><p><img src="assets/loss.png" alt="loss"/></p><p>This example provides a basic introduction to using machine learning with data from the <code>SciGlassDatabase</code>. By building upon this foundation, you can explore more complex models and analyses to gain deeper insights into the relationships between glass composition and properties.</p><h2 id="**Further-Exploration:**"><a class="docs-heading-anchor" href="#**Further-Exploration:**"><strong>Further Exploration:</strong></a><a id="**Further-Exploration:**-1"></a><a class="docs-heading-anchor-permalink" href="#**Further-Exploration:**" title="Permalink"></a></h2><p>These examples covered the basics of retrieving and visualizing data using <code>SciGlassDatabase</code>. You can further explore the package&#39;s capabilities by:</p><ul><li><strong>Querying for different properties:</strong> Experiment with different property names in the <code>property</code> argument of <a href="autodocs.html#SciGlassDatabase.get_compositions-Tuple{}"><code>get_compositions</code></a>.</li><li><strong>Exploring different composition systems:</strong> Change the <code>comps</code> variable to investigate other glass systems.</li><li><strong>Using different visualization functions:</strong> The <code>SciGlassDatabase</code> package or related visualization packages might offer other types of plots and data exploration tools.</li><li><strong>Filtering and analyzing the DataFrame:</strong> Use the functionalities of the <code>DataFrames.jl</code> package to filter, sort, and analyze the retrieved data.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="toc.html">« Table of contents</a><a class="docs-footer-nextpage" href="index.html">Index »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Monday 28 April 2025 11:09">Monday 28 April 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
